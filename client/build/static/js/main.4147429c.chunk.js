(this["webpackJsonpin-bloom"]=this["webpackJsonpin-bloom"]||[]).push([[0],{26:function(e,a,t){e.exports=t.p+"static/media/inbloom.c82f97ad.png"},27:function(e,a,t){e.exports=t.p+"static/media/planty.4413f528.jpg"},28:function(e,a,t){e.exports=t.p+"static/media/yourgarden.8f83f4cd.svg"},30:function(e,a,t){e.exports=t(63)},35:function(e,a,t){},53:function(e,a,t){},63:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(14),l=t.n(c),o=(t(35),t(7)),s=t(10),i=t(1),m=t(11),u=t(8),d=t.n(u),p=function(e){return d.a.get("/api/trefle/search/"+e)},f=function(e){return d.a.post("/api/plant",e)},g=function(e){return d.a.post("/api/user",e)},b=function(e){return d.a.get("/api/user/"+e)};var v=t(26),E=t.n(v);var h=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"jumbotron bg-transparent text-center"},r.a.createElement("img",{className:"inbloom",src:E.a})),r.a.createElement("div",{className:"container m-5 col-4 mx-auto text-center"},!e.user&&r.a.createElement(m.GoogleLogin,{setUser:e.setUser,clientId:"21199057526-pc5p89vu1fos35ufcd9m597mmd84aq88.apps.googleusercontent.com",buttonText:"Login",onSuccess:function(a){console.log("[Login Success] currentUser:",a.profileObj);a.profileObj.email;console.log(a),g(a.profileObj).then((function(a){e.setUser(a.data)}))},onFailure:function(e){console.log("[Login failed] res: ",e),alert("invalid user")},cookiePolicy:"single_host_origin",isSignedIn:!0})))};t(53);var N=t(65);var y=function(){return r.a.createElement("div",null,r.a.createElement(m.GoogleLogout,{clientId:"21199057526-pc5p89vu1fos35ufcd9m597mmd84aq88.apps.googleusercontent.com",buttonText:"Logout",onLogoutSuccess:function(){alert("Logout made successfully")},style:{scope:"profile",width:"240",height:"50",longtitle:"true",theme:"dark"}}))};var S=function(e){var a=Object(n.useState)(""),t=Object(o.a)(a,2),c=t[0],l=t[1],s=Object(n.useState)(!1),i=Object(o.a)(s,2),m=i[0],u=i[1],d=function(e,a){var t=Object(n.useState)(e),r=Object(o.a)(t,2),c=r[0],l=r[1];return Object(n.useEffect)((function(){var t=setTimeout((function(){l(e)}),a);return function(){clearTimeout(t)}}),[e]),c}(c,500);Object(n.useEffect)((function(){var a=d;console.log("PLANT NAME"+a),d?(console.log("STUPID RESULTS"+d),u(!0),p(a).then((function(a){u(!1),console.log(a.data),e.setResults(a.data),e.setIsSearching(!0)}))):e.setResults([])}),[d]);var f=new N.b({delay:.8});return Object(n.useEffect)((function(){f.from(".homes",{x:15,opacity:0,ease:N.a.easeOut,delay:.1},"Start"),f.from(".search",{x:15,opacity:0,ease:N.a.easeOut,delay:.2},"Start"),f.from(".contact",{x:15,opacity:0,ease:N.a.easeOut,delay:.3},"Start")}),[]),r.a.createElement("nav",{id:"navbar",className:"navbar navbar-expand-lg navbar-light bg-light mt-n5"},r.a.createElement("a",{id:"navbar-title",className:"navbar-brand homes text-success",href:"#"},"inBloom"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse justify-content-end",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item active search"},r.a.createElement("form",{className:"form-inline"},r.a.createElement("div",{className:"form-group mx-sm-3 mb-2"},r.a.createElement("label",{htmlFor:"plantSearch",className:"sr-only"},"Search : "),r.a.createElement("input",{type:"search",className:"form-control",id:"plantSearch",placeholder:"Search by plant name...",onChange:function(e){return l(e.target.value)}}),m&&r.a.createElement("div",null,"Searching...")))),r.a.createElement("li",{className:"nav-item contact"},r.a.createElement(y,null)))))};var j=function(){return r.a.createElement("div",null,r.a.createElement("button",{className:"btn"},"More Info"))};var x=function(e){var a={common_name:e.displayName,image_url:e.img,trefle_id:e.plant.id,UserId:e.user};return r.a.createElement("div",null,r.a.createElement("button",{className:"btn",onClick:function(){f(a).then((function(e){console.log(e.data.common_name+" added to your garden!")}))}},"Add to Your Garden"))},O=t(27),_=t.n(O);var L=function(e){var a,t;return a=e.plant.common_name?e.plant.common_name:e.plant.scientific_name,t=e.plant.image_url?e.plant.image_url:_.a,r.a.createElement("div",{className:"card m-2 p-2",key:e.plant.id,style:{width:"350px"}},r.a.createElement("h3",{className:"card-title"},a),r.a.createElement("img",{src:t,className:"card-img-top mx-auto",alt:e.plant.scientific_name}),e.isSearching&&r.a.createElement(x,{plant:e.plant,displayName:a,user:e.user,img:t}),r.a.createElement(j,null))},I=t(28),U=t.n(I);var k=function(e){var a=Object(n.useState)([]),t=Object(o.a)(a,2),c=t[0],l=t[1],s=Object(n.useState)(!1),i=Object(o.a)(s,2),m=i[0],u=i[1];Object(n.useEffect)((function(){console.log(e.user.id),d()}),[]);var d=function(){b(e.user.id).then((function(e){l(e.data.Plants),u(!1)}))};return console.log(c),r.a.createElement("div",{className:"garden-body"},r.a.createElement("div",{className:"jumbotron garden-jumbo"},r.a.createElement("img",{className:"gardenHeader",src:U.a})),r.a.createElement(S,{setResults:l,results:c,setIsSearching:u}),m&&r.a.createElement("button",{onClick:d},"Back to Garden"),r.a.createElement("div",{id:"plant-cards",className:"row p-3 mb-5"},c.map((function(a){return r.a.createElement(L,{key:a.id,plant:a,user:e.user.id,isSearching:m})}))))};var T=function(){return r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"text-center m-2"},"Welcome to inBloom!"),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"First Name","aria-label":"Username"})),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Last Name","aria-label":"Recipient's username"})),r.a.createElement("button",{className:"btn btn-outline-success"},r.a.createElement(s.b,{to:"/search"}),"Add your plants!")))};var w=function(){var e=Object(n.useState)(),a=Object(o.a)(e,2),t=a[0],c=a[1];return Object(n.useEffect)((function(){c(JSON.parse(sessionStorage.getItem("userData")))}),[]),r.a.createElement(s.a,null,r.a.createElement("div",null,!t&&r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/"},r.a.createElement(h,{setUser:c,user:t})),r.a.createElement(i.a,{exact:!0,path:"/newuser"},r.a.createElement(T,null))),t&&r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/"},r.a.createElement(k,{setUser:c,user:t})))))};t(62);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.4147429c.chunk.js.map